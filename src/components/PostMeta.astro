---
import { getEntryBySlug, type CollectionEntry } from "astro:content";
import { Image } from "astro:assets";
type Props = {
  post: CollectionEntry<"posts">;
};

const { post } = Astro.props as Props;
const author = await getEntryBySlug("authors", post.data.author);

if (!author) return Astro.redirect("/404");
---

<div class="flex justify-between items-center mb-10">
  <div class="flex items-center gap-x-2">
    <a href={`/authors/${author.slug}`}>
      <Image
        src={author.data.image}
        alt={author.data.name}
        height={48}
        width={48}
        format="webp"
        class="rounded-full border-2 border-teal-500 aspect-square object-cover w-12"
      />
    </a>
    <a
      href={`/authors/${author.slug}`}
      class="text-zinc-600 text-2xl font-bold ml-4"
    >
      {author.data.name}
    </a>
  </div>
</div>
